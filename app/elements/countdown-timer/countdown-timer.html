<link rel="import" href="../../bower_components/polymer/polymer.html">

<polymer-element name="countdown-timer"
    attributes="date dateAdjustment easeInTime waitTime easeOutTime">

  <template>
    <style>
      :host {
        display: block;
        width: 300px;
        height: 200px;
      }

      .countdown-timer,
      #surface {
        width: 100%;
        height: 100%;
      }
    </style>
    <div class="countdown-timer">
      <canvas id="surface"></canvas>
    </div>
  </template>

  <script src="countdown-timer-namespace.js"></script>
  <script src="countdown-timer-enumerations.js"></script>
  <script src="countdown-timer-renderer.js"></script>
  <script src="countdown-timer.js"></script>

  <script>

  Polymer({

    date: 'Mon, 02 Mar 2015 09:00:00 GMT-0700',
    dateAdjustment: 3,
    easeInTime: 500,
    waitTime: 300,
    easeOutTime: 400,

    ready: function() {

      var targetDate = Date.parse(this.date);

      if (isNaN(targetDate))
        targetDate = Date.now();

      targetDate = new Date(targetDate);

      var timer = new IOWA.CountdownTimer.Element(this.$.surface);
      timer.animate({
        targetDate: targetDate,
        adjustmentInDays: this.dateAdjustment,
        easeInTime: this.easeInTime,
        waitTime: this.waitTime,
        easeOutTime: this.easeOutTime
      });
    }

  });
  </script>

</polymer-element>
